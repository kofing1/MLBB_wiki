<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<title>Atlas Hero Head</title>

<style>
  body {
    margin: 0;
    padding: 20px;
    background: #f5f5f5;
    font-family: system-ui, -apple-system, BlinkMacSystemFont;
  }

  h1 {
    text-align: center;
    margin-bottom: 20px;
  }

  /* 瀑布流 */
  .masonry {
    column-count: 6;
    column-gap: 16px;
  }

  @media (max-width: 1400px) { .masonry { column-count: 5; } }
  @media (max-width: 1100px) { .masonry { column-count: 4; } }
  @media (max-width: 800px)  { .masonry { column-count: 3; } }
  @media (max-width: 500px)  { .masonry { column-count: 2; } }

  /* 单个卡片 */
  .item {
    break-inside: avoid;
    margin-bottom: 16px;
    text-align: center;
  }

  /* 图片缩小 2 倍 */
  .item img {
    width: 50%;
    height: auto;
    border-radius: 8px;
    background: #ddd;
    box-shadow: 0 2px 6px rgba(0,0,0,.15);
  }

  /* 文件名 */
  .filename {
    margin-top: 6px;
    font-size: 12px;
    color: #555;
    word-break: break-all;
  }
</style>
</head>

<body>

<h1>Atlas Hero Head</h1>

<div id="gallery" class="masonry"></div>

<script>
  // ===== 改这里 =====
  const GITHUB_USER = "你的GitHub用户名";
  const REPO_NAME   = "MLBB_wiki";
  const FOLDER_PATH = "atlas_hero_head";
  // ==================

  const apiUrl = `https://api.github.com/repos/${GITHUB_USER}/${REPO_NAME}/contents/${FOLDER_PATH}`;
  const gallery = document.getElementById("gallery");

  fetch(apiUrl)
    .then(res => res.json())
    .then(files => {
      files
        .filter(f => f.type === "file")
        .forEach(file => {
          const item = document.createElement("div");
          item.className = "item";

          const img = document.createElement("img");
          img.src = file.download_url;
          img.loading = "lazy";

          const name = document.createElement("div");
          name.className = "filename";
          name.textContent = file.name;

          item.appendChild(img);
          item.appendChild(name);
          gallery.appendChild(item);
        });
    })
    .catch(err => {
      gallery.innerHTML = "图片加载失败（GitHub API）";
      console.error(err);
    });
</script>

</body>
</html>
